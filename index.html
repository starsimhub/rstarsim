<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>An R Interface to Starsim • starsim</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="An R Interface to Starsim">
<meta name="description" content="Starsim is an open-source agent-based modeling framework for simulating the spread of diseases among agents via dynamic transmission networks.">
<meta property="og:description" content="Starsim is an open-source agent-based modeling framework for simulating the spread of diseases among agents via dynamic transmission networks.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">starsim</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/install.html">Installation</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="r-starsim">R-Starsim<a class="anchor" aria-label="anchor" href="#r-starsim"></a>
</h1></div>
<p>R-Starsim is a package to facilitate the usage of <a href="https://starsim.org" class="external-link">Starsim</a> from R. It is primarily a wrapper for <a href="https://rstudio.github.io/reticulate/index.html" class="external-link">reticulate</a>, which facilitates communication between Python and R.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Although R-Starsim will be released on CRAN in future, for the time being, it can be installed via GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"starsimhub/rstarsim"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.starsim.org/" class="external-link">starsim</a></span><span class="op">)</span></span>
<span><span class="fu">init_starsim</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>If you do not already have a <code>reticulate</code> Python environment set up, R-Starsim will try to make one for you (by downloading Miniconda, creating an <code>r-reticulate</code> environment, and activating it).</p>
<p>If you want to reinstall Starsim (e.g. to update the version), you can use:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.starsim.org/" class="external-link">starsim</a></span><span class="op">)</span></span>
<span><span class="fu">reinstall_starsim</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>All Starsim Python functions and classes are available in R. In Python, usage is typically <code>import starsim as ss</code>. To emulate this behavior in R, Starsim is made available as the variable <code>ss</code>, e.g. <code>sim = ss.Sim()</code> in Python becomes <code>sim &lt;- ss$Sim()</code> in R. In addition, major Starsim classes (such as <code>Sim</code>, <code>Network</code>, <code>Disease</code>, etc.) are imported directly into the R namespace (e.g. <code>sim &lt;- Sim()</code> also works).</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load Starsim</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.starsim.org/" class="external-link">starsim</a></span><span class="op">)</span></span>
<span><span class="fu">load_starsim</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set the simulation parameters</span></span>
<span><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    n_agents <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>    birth_rate <span class="op">=</span> <span class="fl">20</span>,</span>
<span>    death_rate <span class="op">=</span> <span class="fl">15</span>,</span>
<span>    networks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        type <span class="op">=</span> <span class="st">'randomnet'</span>,</span>
<span>        n_contacts <span class="op">=</span> <span class="fl">4</span></span>
<span>    <span class="op">)</span>,</span>
<span>    diseases <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        type <span class="op">=</span> <span class="st">'sir'</span>,</span>
<span>        dur_inf <span class="op">=</span> <span class="fl">10</span>,</span>
<span>        beta <span class="op">=</span> <span class="fl">0.1</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create, run, and plot the simulation</span></span>
<span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="va">ss</span><span class="op">$</span><span class="fu">Sim</span><span class="op">(</span><span class="va">pars</span><span class="op">)</span></span>
<span><span class="va">sim</span><span class="op">$</span><span class="fu">run</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">sim</span><span class="op">$</span><span class="va">diseases</span><span class="op">$</span><span class="va">sir</span><span class="op">$</span><span class="fu">plot</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="./example-r.png" alt="image SIR dynamics plot"><div class="figcaption">image SIR dynamics plot</div>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<div class="section level3">
<h3 id="installation-1">Installation<a class="anchor" aria-label="anchor" href="#installation-1"></a>
</h3>
<p>If <code>init_starsim()</code> fails, try creating your own Python environment (via <code>conda</code> or <code>miniconda</code>), installing Starsim manually, and then calling <code>load_starsim()</code> with an argument:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">load_starsm</span><span class="op">(</span><span class="st">"my_starsim_env"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plotting">Plotting<a class="anchor" aria-label="anchor" href="#plotting"></a>
</h3>
<ul>
<li>If plots don’t appear, try <code>plt$show()</code> after calling <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>, or set <code>ss$options(reticulate=True)</code> before plotting.</li>
<li>If the plots don’t appear <em>and</em> they cause RStudio to crash, either set the backend to Agg (Tools &gt; General Options &gt; General &gt; Graphics &gt; Backend), or call <code><a href="https://rdrr.io/r/grDevices/x11.html" class="external-link">X11()</a></code> somewhere in your script before calling <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>.</li>
<li>If plots appear but the scaling is wrong (e.g. the text is colliding), you can either (a) zoom out in RStudio (this changes the inferred scaling factor), or (b) change the default font size with e.g. <code>sc$options(fontsize=6)</code>.</li>
<li>If all else fails, plotting seems to work better from VS Code than RStudio.</li>
</ul>
</div>
<div class="section level3">
<h3 id="other-issues">Other issues<a class="anchor" aria-label="anchor" href="#other-issues"></a>
</h3>
<p>Questions? Comments? Bugs? Please <a href="https://github.com/starsimhub/rstarsim/issues/new/choose" class="external-link">open an issue</a> or <a href="mailto:info@starsim.org">email us</a> for help.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing starsim</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Cliff Kerr <br><small class="roles"> Author, maintainer </small>  </li>
<li>Robyn Stuart <br><small class="roles"> Author </small>  </li>
<li>Romesh Abeysuriya <br><small class="roles"> Author </small>  </li>
<li>Daniel Klein <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cliff Kerr, Robyn Stuart, Romesh Abeysuriya, Daniel Klein.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
